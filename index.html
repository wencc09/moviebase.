<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MovieBase</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Theme (Step 1) -->
  <link rel="stylesheet" href="./assets/theme.css">

  <!-- Google Sign-In (GIS) -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <style>
    /* index-only layout */
    header.top{
      position: sticky; top: 0; z-index: 20;
      padding: 14px 0;
      background: linear-gradient(180deg, rgba(7,10,18,.72), rgba(7,10,18,0));
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      width:min(1160px, calc(100% - 32px));
      margin: 0 auto;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      text-decoration:none; color:var(--text);
    }
    .logo{
      width:42px; height:42px; border-radius:14px;
      background: linear-gradient(135deg, rgba(124,77,255,.95), rgba(0,213,255,.55));
      box-shadow: 0 18px 45px rgba(124,77,255,.18);
      display:grid; place-items:center;
      font-family:"Sora","Noto Sans TC",sans-serif;
      font-weight:700;
    }
    .brandText{ display:flex; flex-direction:column; line-height:1.05; }
    .brandText b{ font-family:"Sora","Noto Sans TC",sans-serif; letter-spacing:.2px; font-size:16px; }
    .brandText span{ font-size:13px; color:var(--muted); margin-top:4px; }

    .right{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap;
      justify-content:flex-end;
    }
    .state{
      font-size:12px; color:var(--muted);
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.05);
      padding:6px 10px; border-radius:999px;
    }

    .hero{ padding: 18px 0 6px; }
    .heroCard{ padding: 20px; position:relative; overflow:hidden; }
    .heroCard::after{
      content:"";
      position:absolute; inset:-140px;
      background:
        radial-gradient(circle at 25% 30%, rgba(0,213,255,.22), transparent 60%),
        radial-gradient(circle at 75% 40%, rgba(124,77,255,.22), transparent 60%),
        radial-gradient(circle at 55% 85%, rgba(255,79,216,.14), transparent 60%);
      pointer-events:none;
    }
    .heroInner{
      position:relative;
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 18px;
      align-items:stretch;
    }
    @media (max-width: 920px){
      .heroInner{ grid-template-columns: 1fr; }
    }

    .intro{ padding: 18px; display:grid; gap: 14px; }
    .chips{ display:flex; flex-wrap:wrap; gap:8px; margin-top: 4px; }

    .stepBox{ padding: 18px; display:grid; gap: 12px; }
    .stepHead{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .stepTitle{
      font-family:"Sora","Noto Sans TC",sans-serif;
      font-weight:700;
      font-size: 14px;
      color: rgba(255,255,255,.88);
      letter-spacing:.2px;
    }
    .prog{
      height:10px; border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid var(--stroke);
      overflow:hidden;
    }
    .prog > i{
      display:block; height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(124,77,255,.95), rgba(0,213,255,.75));
      transition: width .35s ease;
    }

    .stepK{ display:inline-flex; align-items:center; gap:8px; font-size:12px; color:var(--muted); }
    .dotRow{ display:flex; gap:6px; }
    .dot{
      width:7px; height:7px; border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
    }
    .dot.is-on{
      background: linear-gradient(135deg, rgba(124,77,255,.95), rgba(0,213,255,.75));
      border-color: rgba(255,255,255,.22);
    }

    .ctaRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px; }

    .gallery{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 920px){
      .gallery{ grid-template-columns: 1fr 1fr; }
    }
    .shot{
      border-radius: 16px;
      border: 1px solid var(--stroke);
      overflow:hidden;
      background: rgba(255,255,255,.04);
      min-height: 112px;
      position:relative;
    }
    .shot::before{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(120deg, rgba(124,77,255,.18), transparent 55%),
        radial-gradient(circle at 20% 30%, rgba(0,213,255,.16), transparent 60%),
        radial-gradient(circle at 80% 70%, rgba(255,79,216,.10), transparent 60%);
    }
    .shot b{
      position:absolute; left:12px; bottom:10px;
      font-size:12px; color: rgba(255,255,255,.82);
      font-weight:700;
      font-family:"Sora","Noto Sans TC",sans-serif;
      letter-spacing:.2px;
    }

    section.block{ margin-top: 18px; }
    .blockCard{ padding: 18px; }
    .cols{ display:grid; grid-template-columns: 1fr 1fr; gap:14px; }
    @media (max-width: 920px){
      .cols{ grid-template-columns: 1fr; }
    }
    .mini{
      padding: 14px;
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.05);
    }
    .mini h3{
      margin:0 0 6px;
      font-family:"Sora","Noto Sans TC",sans-serif;
      font-size: 14px;
      letter-spacing:.2px;
    }
    .mini p{ margin:0; color:var(--muted); font-size:14px; line-height:1.65; }

    .modal{
      position:fixed; inset:0; z-index:50;
      display:none;
      place-items:center;
      background: rgba(0,0,0,.55);
      padding: 18px;
    }
    .modal.open{ display:grid; }
    .modalCard{ width: min(560px, 100%); padding: 16px; }
    .modalHead{
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
      margin-bottom: 10px;
    }
    .modalHead b{
      font-family:"Sora","Noto Sans TC",sans-serif;
      letter-spacing:.2px;
      font-size: 16px;
    }
    .modalBody{ display:grid; gap: 10px; }
    .hint{ font-size: 12px; color: var(--muted); line-height:1.6; }
    .gsiWrap{
      border:1px solid var(--stroke);
      border-radius: 14px;
      padding: 12px;
      background: rgba(255,255,255,.05);
    }
    .rowBtns{ display:flex; gap:10px; flex-wrap:wrap; }
    /* =========================
   Splash (full-screen intro)
========================= */
      .splash{
        position: fixed;
        inset: 0;
        z-index: 100;
        display: grid;
        place-items: center;
        background: #070A12;
        overflow: hidden;
        opacity: 1;
        pointer-events: auto;
        transition: opacity .5s ease, transform .5s ease;
      }
      
      .splash.is-hide{
        opacity: 0;
        pointer-events: none;
        transform: scale(1.01);
      }
      
      /* subtle noise */
      .splashNoise{
        position:absolute; inset:-40%;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
        opacity:.20;
        mix-blend-mode: overlay;
        transform: rotate(10deg);
      }
      
      .splashVignette{
        position:absolute; inset:-10%;
        background:
          radial-gradient(circle at 50% 30%, rgba(124,77,255,.20), transparent 55%),
          radial-gradient(circle at 70% 50%, rgba(0,213,255,.14), transparent 58%),
          radial-gradient(circle at 50% 75%, rgba(255,79,216,.10), transparent 60%),
          radial-gradient(circle at 50% 50%, rgba(0,0,0,.00), rgba(0,0,0,.68) 70%);
        pointer-events:none;
      }
      
      .splashBg{
        position:absolute; inset:0;
        opacity:.55;
        filter: saturate(1.15) contrast(1.05);
      }
      
      .splashImg{
        width:100%;
        height:100%;
        object-fit: cover;
        transform: scale(1.05);
        opacity:.9;
      }
      
      /* if image missing */
      .splashImg:not([src]), .splashImg[src=""]{ display:none; }
      .splashBg::before{
        content:"";
        position:absolute; inset:0;
        background:
          radial-gradient(900px 500px at 20% 20%, rgba(124,77,255,.22), transparent 55%),
          radial-gradient(900px 600px at 85% 35%, rgba(0,213,255,.16), transparent 55%),
          linear-gradient(180deg, rgba(7,10,18,.25), rgba(7,10,18,.85));
      }
      
      /* SKIP button */
      .skip{
        position:absolute;
        top: 16px;
        right: 16px;
        z-index: 2;
        border:1px solid rgba(255,255,255,.14);
        background: rgba(255,255,255,.06);
        color: rgba(255,255,255,.86);
        padding: 8px 12px;
        border-radius: 999px;
        font-weight: 700;
        letter-spacing: .25px;
        cursor:pointer;
        backdrop-filter: blur(10px);
      }
      .skip:hover{ background: rgba(255,255,255,.10); }
      
      .splashCenter{
        position:relative;
        z-index: 2;
        text-align:center;
        width: min(820px, calc(100% - 40px));
        padding: 28px 18px;
      }
      
      .splashLogo{
        width: 68px;
        height: 68px;
        border-radius: 22px;
        margin: 0 auto 14px;
        display:grid;
        place-items:center;
        font-family: "Sora","Noto Sans TC",sans-serif;
        font-weight: 800;
        letter-spacing:.2px;
        color: rgba(255,255,255,.92);
        background:
          radial-gradient(circle at 30% 30%, rgba(0,213,255,.35), transparent 55%),
          radial-gradient(circle at 70% 60%, rgba(124,77,255,.35), transparent 60%),
          rgba(255,255,255,.06);
        border:1px solid rgba(255,255,255,.14);
        box-shadow: 0 22px 80px rgba(0,0,0,.45);
      }
      
      /* Glitch title */
      .splashTitle{
        margin: 0;
        font-family: "Sora","Noto Sans TC",sans-serif;
        font-size: clamp(34px, 5vw, 60px);
        font-weight: 800;
        letter-spacing: .6px;
        line-height: 1.05;
      }
      
      .glitch{
        position: relative;
        display: inline-block;
        text-shadow: 0 10px 60px rgba(0,0,0,.55);
      }
      .glitch::before,
      .glitch::after{
        content: attr(data-text);
        position:absolute;
        left:0; top:0;
        width:100%;
        overflow:hidden;
        opacity:.75;
        pointer-events:none;
      }
      .glitch::before{
        transform: translate(1px, 0);
        clip-path: inset(0 0 60% 0);
        filter: drop-shadow(-8px 0 rgba(0,213,255,.28));
        animation: glitchTop 2.2s infinite ease-in-out;
      }
      .glitch::after{
        transform: translate(-1px, 0);
        clip-path: inset(55% 0 0 0);
        filter: drop-shadow(8px 0 rgba(124,77,255,.30));
        animation: glitchBot 2.6s infinite ease-in-out;
      }
      @keyframes glitchTop{
        0%, 100% { transform: translate(0,0); }
        12% { transform: translate(2px,-1px); }
        28% { transform: translate(-2px,1px); }
        45% { transform: translate(1px,0); }
        68% { transform: translate(-1px,-1px); }
      }
      @keyframes glitchBot{
        0%, 100% { transform: translate(0,0); }
        18% { transform: translate(-2px,1px); }
        38% { transform: translate(2px,0); }
        60% { transform: translate(-1px,1px); }
        82% { transform: translate(1px,-1px); }
      }
      
      /* Shiny subtitle */
      .splashSub{
        margin: 12px auto 0;
        color: rgba(255,255,255,.78);
        line-height: 1.65;
        font-size: 14px;
      }
      .splashSub .cn{
        display:inline-block;
        margin-top: 6px;
        letter-spacing: .2px;
        color: rgba(255,255,255,.72);
      }
      .shine{
        display:inline-block;
        background: linear-gradient(90deg, rgba(255,255,255,.65), rgba(255,255,255,.95), rgba(255,255,255,.65));
        background-size: 220% 100%;
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        animation: shineMove 2.4s infinite linear;
      }
      @keyframes shineMove{
        0% { background-position: 0% 0; }
        100% { background-position: 220% 0; }
      }
      
      .splashHint{
        margin-top: 16px;
        font-size: 12px;
        color: rgba(255,255,255,.60);
        letter-spacing: .3px;
        opacity: .9;
        animation: pulse 1.8s infinite ease-in-out;
      }
      @keyframes pulse{
        0%,100%{ opacity:.55; transform: translateY(0); }
        50%{ opacity:.95; transform: translateY(-2px); }
      }

          /* ===== Identity chooser inside modal ===== */
      .idGrid{
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
      }
      @media (max-width: 520px){
        .idGrid{ grid-template-columns: 1fr; }
      }
      .bigChoice{
        width:100%;
        padding: 14px 14px;
        border-radius: 16px;
        border: 1px solid var(--stroke);
        background: rgba(255,255,255,.06);
        color: rgba(255,255,255,.92);
        cursor:pointer;
        text-align:left;
      }
      .bigChoice:hover{ background: rgba(255,255,255,.10); }
      .bigChoice b{
        display:block;
        font-family:"Sora","Noto Sans TC",sans-serif;
        letter-spacing:.2px;
        font-size: 14px;
        margin-bottom: 6px;
      }
      .bigChoice span{
        display:block;
        color: var(--muted);
        font-size: 12px;
        line-height: 1.6;
      }
      .bigChoice.primary{
        border-color: rgba(0,213,255,.30);
        box-shadow: 0 0 0 4px rgba(0,213,255,.10);
      }
      .hidden{ display:none !important; }


  </style>
</head>

<body>
      <!-- Splash / 開場動畫（進站只看到這個，深色、無按鈕，只有小小 SKIP） -->
    <section id="splash" class="splash" aria-hidden="false">
      <div class="splashNoise" aria-hidden="true"></div>
      <div class="splashVignette" aria-hidden="true"></div>
    
      <!-- 背景視覺：之後換成你的圖 -->
      <div class="splashBg" aria-hidden="true">
        <!-- 你之後可以把這張換成自己畫的圖：assets/splash.png -->
        <img class="splashImg" src="./assets/splash-placeholder.png" alt="">
      </div>
    
      <button id="btnSkip" class="skip" type="button">SKIP</button>
    
      <div class="splashCenter">
        <div class="splashLogo">MB</div>
    
        <!-- 中英特效文字 -->
        <h1 class="splashTitle">
          <span class="glitch" data-text="MOVIEBASE">MOVIEBASE</span>
        </h1>
    
        <p class="splashSub">
          <span class="shine">Float your stories in a cinema of memories.</span><br/>
          <span class="cn">把每一次觀影，收進漂浮影廳。</span>
        </p>
    
        <div class="splashHint">點一下畫面繼續</div>
      </div>
    </section>

  <header class="top">
    <div class="topbar">
      <a class="brand" href="./">
        <div class="logo">MB</div>
        <div class="brandText">
          <b>MovieBase</b>
          <span>漂浮影廳｜觀影日記</span>
        </div>
      </a>

      <div class="right">
        <div class="state" id="loginState">目前：未登入</div>
        <button class="btn" id="btnAbout" type="button">看網站介紹</button>
  
        <!-- 未登入才顯示 -->
        <button class="btn" id="btnGuest" type="button">以訪客進入</button>
        <button class="btn btn-primary" id="btnLogin" type="button">立即登入</button>
      
        <!-- 已登入才顯示 -->
        <button class="btn" id="btnLogoutTop" type="button" style="display:none;">登出</button>
      </div>

    </div>
  </header>

  <div class="wrap hero">
    <div class="glass heroCard">
      <div class="heroInner">
        <div class="glass intro">
          <div class="pill">入口頁</div>
          <h1 class="h1" style="margin-top:6px;">
            把你的觀影進度、心情與票根，
            變成一座漂浮影廳。
          </h1>
          <div class="p">
            登入後可以紀錄、評分、上傳照片、發文分享。
            訪客模式只提供瀏覽，避免寫入資料。
          </div>

          <div class="chips">
            <span class="pill">影集：季集時間碼</span>
            <span class="pill">電影：觀後感</span>
            <span class="pill">票根：照片備份</span>
            <span class="pill">貼文牆：公開分享</span>
          </div>

          <div class="gallery" aria-hidden="true">
            <div class="shot"><b>Glass cards</b></div>
            <div class="shot"><b>Poster layout</b></div>
            <div class="shot"><b>Feed wall</b></div>
          </div>
        </div>

        <div class="glass stepBox" id="introBox">
          <div class="stepHead">
            <div class="stepK">
              <span class="pill" id="stepK">定位</span>
              <div class="dotRow">
                <span class="dot is-on" data-dot="0"></span>
                <span class="dot" data-dot="1"></span>
                <span class="dot" data-dot="2"></span>
              </div>
            </div>

            <div class="rowBtns">
              <button class="btn" id="btnPrev" type="button">上一頁</button>
              <button class="btn" id="btnNext" type="button">下一頁</button>
            </div>
          </div>

          <div class="prog" aria-hidden="true"><i id="bar"></i></div>

          <div class="h2" id="stepT">把觀影進度、心情與票根收進同一個宇宙</div>
          <div class="p" id="stepD">
            用卡片式紀錄你的影集、電影與動畫；一眼看懂最近看了什麼、喜歡什麼。
          </div>

          <div class="ctaRow">
            <button class="btn" id="btnGuest2" type="button" onclick="document.getElementById('btnGuest').click()">以訪客進入</button>
            <button class="btn btn-primary" id="btnLogin2" type="button" onclick="document.getElementById('btnLogin').click()">立即登入</button>
          </div>

          <div class="hint">
            提醒：入口只做介紹與選擇身分。登入視窗只會在你按下「立即登入」後出現。
          </div>
        </div>
      </div>
    </div>

    <section class="block" id="sectionAbout">
      <div class="glass blockCard">
        <div class="pill">網站介紹</div>
        <h2 class="h2" style="margin-top:10px;">你會用到的四個頁面</h2>

        <div class="cols">
          <div class="mini">
            <h3>Hall（主入口）</h3>
            <p>登入後進入功能中樞：導覽到貼文牆、紀錄頁、帳號頁。訪客也能進，但只允許瀏覽。</p>
          </div>
          <div class="mini">
            <h3>Records（我的紀錄）</h3>
            <p>影集與電影的紀錄頁：新增、編輯、上傳照片、篩選搜尋。訪客模式會鎖住寫入按鈕。</p>
          </div>
          <div class="mini">
            <h3>App（貼文牆）</h3>
            <p>公開分享與瀏覽心得。登入才能發文，訪客只能看內容與搜尋。</p>
          </div>
          <div class="mini">
            <h3>Account（帳號）</h3>
            <p>顯示登入狀態與權限，提供登出與模式提醒。</p>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Modal: Login -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="glass modalCard" role="dialog" aria-modal="true" aria-label="登入視窗">
      <div class="modalHead">
        <div>
          <b>登入 MovieBase</b>
          <div class="hint">登入後才能紀錄與發文。訪客模式只提供瀏覽。</div>
        </div>
        <button class="btn" id="modalClose" type="button">關閉</button>
      </div>

            <div class="modalBody">
        <!-- Step 1: 身分選擇 -->
        <div id="chooseBox" class="gsiWrap">
          <div class="hint" style="margin-bottom:10px;">
            先選擇身分：登入可紀錄與發文；訪客只能瀏覽。
          </div>
      
          <div class="idGrid">
            <button class="bigChoice primary" id="chooseLogin" type="button">
              <b>登入</b>
              <span>可新增/編輯紀錄、上傳照片、在貼文牆互動</span>
            </button>
      
            <button class="bigChoice" id="chooseGuest" type="button">
              <b>訪客</b>
              <span>只能瀏覽，不可寫入資料（按讚/留言/新增都會鎖）</span>
            </button>
          </div>
        </div>
      
        <!-- Step 2: Google 登入（按登入才顯示） -->
        <div id="googleBox" class="gsiWrap hidden">
          <div class="hint" style="margin-bottom:10px;">
            使用 Google 登入以啟用完整功能
          </div>
          <div id="gsiBtn"></div>
      
          <div class="rowBtns" style="margin-top:10px;">
            <button class="btn" id="backToChoose" type="button">返回身分選擇</button>
          </div>
        </div>
      
        <div class="rowBtns">
          <button class="btn" type="button" onclick="location.href='about.html'">閱讀詳細介紹</button>
        </div>
      </div>
    </div>
  </div>

  <script src="./assets/entry.js" defer></script>
  <script src="./assets/app.js" defer></script>
  
  </script>
</body>
</html>
