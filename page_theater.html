
<script src="./assets/app.js?v=20251224_1"></script>

<!-- page_theater.html -->
<section class="page page-theater" id="page-theater" data-page="theater">
  <header class="pageHead">
    <div class="pageTitle">
      <h1>漂浮影廳</h1>
      <p>在大螢幕裡滑動「上映海報卡」，用 #hashtag 找同好。</p>
    </div>

    <div class="theaterActions">
      <div class="tagSearch">
        <input id="theaterSearchInput" type="search" placeholder="搜尋 #作品名 / 關鍵字…" autocomplete="off" />
        <button class="btn ghost" id="theaterSearchBtn" type="button">搜尋</button>
      </div>

      <button class="btn ghost icon" id="theaterNotiBtn" type="button" title="通知（之後做）" aria-label="通知">
        🔔
      </button>

      <button class="btn primary" id="theaterComposeToggle" type="button">新增貼文</button>
    </div>
  </header>

  <div class="cinemaWrap">
    <!-- 電影院大螢幕 -->
    <div class="cinemaScreen">
      <div class="screenInner">
        <div class="screenTopBar">
          <div class="pill" id="theaterStatusPill">最新上映</div>
          <div class="screenTopRight">
            <button class="btn tiny ghost" id="theaterRefreshBtn" type="button">重新整理</button>
          </div>
        </div>

        <div class="screenFeed" id="theaterFeed"></div>

        <div class="screenEmpty" id="theaterEmpty" hidden>
          <div class="emptyTitle">目前還沒有貼文</div>
          <div class="emptyHint">你可以先用搜尋找 #tag；登入後就能發文。</div>
        </div>
      </div>
    </div>

    <!-- 可伸縮：新增貼文抽屜 -->
    <aside class="composerDrawer is-collapsed" id="theaterComposer" aria-hidden="true">
      <div class="composerHeader">
        <div class="composerTitle">新增貼文</div>
        <button class="btn ghost tiny" id="theaterComposerClose" type="button">收起</button>
      </div>

      <div class="composerBody">
        <div class="composeModeRow" role="tablist" aria-label="新增貼文來源">
          <button class="chip" id="theaterModeFromRecords" type="button">我的紀錄</button>
          <button class="chip active" id="theaterModeNewShare" type="button">新的分享</button>
        </div>

        <div class="composerHint" id="theaterComposerHint">
          你是訪客模式：可以瀏覽，但不能發文 / 按讚 / 留言。
          <button class="btn tiny primary" id="theaterHintLoginBtn" type="button">立即登入</button>
        </div>

        <form id="theaterPostForm" class="composerForm">
          <textarea id="theaterPostContent" rows="7" placeholder="寫下心得… 例如：今天重刷 #進擊的巨人 最終季…" maxlength="1000"></textarea>

          <input id="theaterPostTags" type="text" placeholder="hashtags（空白或逗號分隔）例如：#進擊的巨人 #咒術迴戰" maxlength="200" />

          <div class="composerFooter">
            <label class="fileBtn">
              <input id="theaterPostPhoto" type="file" accept="image/*" />
              <span>加一張圖（之後接 Drive）</span>
            </label>

            <button class="btn primary" type="submit" id="theaterPostSubmit">發佈</button>
          </div>

          <div class="smallNote">發布後可編輯/刪除（僅作者本人）。</div>
        </form>
      </div>
    </aside>
  </div>
</section>
